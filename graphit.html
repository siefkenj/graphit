<!DOCTYPE html>
<html class="no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Graphit</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width">

	<!-- Place favicon.ico and apple-touch-icon.png in the root directory: mathiasbynens.be/notes/touch-icons -->
	<link rel="shortcut icon" href="favicon.ico">

	<link rel="stylesheet" href="css/main.css">
	<script src="js/vendor/modernizr-2.6.1.min.js"></script>

	<!-- jquery includes -->
	<!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script> -->
	<script src="jquery/js/jquery-1.7.2.js"></script>
	<script src="js/plugins.js"></script>
	<script type="text/javascript" src="jquery/js/jquery-ui-1.8.18.custom.min.js"></script>
	<link rel="stylesheet" type="text/css" href="jquery/css/redmond/jquery-ui-1.8.18.custom.css" />
	<script type="text/javascript" src="jquery/js/jquery.json-2.3.js"></script>
	<script type="text/javascript" src="jquery/js/jstorage.js"></script>

	<!-- graphit includes -->
	<script src="js/interface.js"></script>
	<script src="js/asciisvg.js"></script>
	<script src="js/coffeesvg.js"></script>
	<script src="js/md5.js"></script>
	<link rel="stylesheet" href="css/interface.css">
	<!-- load the thumbnail gallery code -->
	<script src="js/gallery.js"></script>
	<link rel="stylesheet" href="css/gallery.css">

	<!-- pdf support -->
	<script src="js/pdfkit-0.1-allfonts.min.js"></script>

	<!-- CodeMirror -->
	<script src="codemirror/lib/codemirror.js"></script>
	<link rel="stylesheet" href="codemirror/lib/codemirror.css">
	<script src="codemirror/mode/javascript/javascript.js"></script>

	<!-- canvg for svg-to-canvas -->
	<script src="canvg/rgbcolor.js"></script>
	<script src="canvg/canvg.js"></script>
</head>
<body>
	<!--[if lt IE 7]>
		<p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
	<![endif]-->
	<div id='dropbox' class='ui-widget-content ui-corner-all'>Drop files here</div>

	<div class='tabs'>
		<ul>
			<li><a href='#graph'>Graph</a></li>
			<li><a href='#examples'>Examples</a></li>
			<li><a href='#help'>Help</a></li>
		</ul>
		<div id='graph'>
			<div class='work-area clearfix'>
				<div class='left'>
					<div class='toolbar'>
						<span class='button' id='update-graph'>Update Graph</span>
						<span class='button' id='save-graph'>Save Graph</span>
						<span class='button' id='load-graph'>Load Graph</span>
					</div>
					<div class='code-area'>
						<textarea id='code' rows='20' cols='58'>
setBorder(0)

initPicture(-4.3,4.3,-3.3,3.3)
fontsize=25
axes(1, 1, "labels", 1)

fontstyle="italic"
fontfamily="times"

fontsize=16
strokewidth = "2"
stroke = "blue"
plot("x^2/4")

//stroke = "red"
//plot(["5*t*cos(pi*t)", "5*t*sin(pi*t)"],0,1)

//stroke = "green"

//marker = "arrowdot"
//line([0,1], [pi/2,1])
//dot([pi,0], "open", cpi)

//text([-2.5,-2.5], "ASCIIsvg Examplee")
						</textarea>
					</div>
				</div>
				<div class='right'>
					<div class='svg-area'>
						<div class='svg-stats'>
							<span class='item'>
								Width: <span id='svg-stat-width' class='svg-stat editable' contenteditable='true'>550</span>px
							</span>
							<span class='item'>
								Height: <span id='svg-stat-height' class='svg-stat editable' contenteditable='true'>450</span>px
							</span>
							<span class='item'>
								Aspect-Ratio: <span id='svg-stat-aspect' class='svg-stat'>1</span>
							</span>
						</div>
						<div id="svg-preview">
							<svg id="target" xml:space="preserve" width="550" height="450" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg"></svg>
							<!-- <svg id="target_svg" xml:space="preserve" width="550" height="450" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg"></svg> -->
							<!-- <svg id="target_canvas" xml:space="preserve" width="550" height="450" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg"></svg> -->
						</div>
					</div>
				</div>
			</div>
			<div class='gallery' id='history-gallery'>
				<h2 class='ui-widget-header'>Previously Saved Graphs</h2>
				<div style='padding: 1em 1em 0em 1em; width: 100%;'>
					<span class='button' id='history-load-from-file'>Load From File</span>
					<span class='button' id='history-clear-all'>Clear All</span>
					<p>
						Note these graphs are stored locally
						and will not be available on
						another computer or different browser.
						To store a graph permanently, please
						save it to your hard drive.
					</p>
				</div>
				<div class='gallery-container clearfix'>
				</div>
			</div>
		</div>
		<div id='examples'>
			<div class='gallery'>
				<h2 class='ui-widget-header'>Examples</h2>
				<div style='padding: 1em 1em 0em 1em; width: 100%;'>
					Click on a thumbnail to load.
				</div>
				<div class='gallery-container clearfix'>
				</div>
			</div>
		</div>
		<div id='help'>
		<h2>Overview</h2>
		<p>
		Graphit allows you to create and save mathematical plots directly from
		your browser.  A graph is defied by javascript code and then converted
		to <a href='http://en.wikipedia.org/wiki/Svg'>SVG</a> with a
		modified version of the <a href='http://www1.chapman.edu/~jipsen/svg/asciisvg.html'>ASCIIsvg</a>
		library.
		</p>
		<p>
		To create a graph, go to the <a href='#graph'>Graph</a> tab and enter
		your graph commands into the text box.  Every graph should start with
		<code>initPicture(min_x,max_x,min_y,max_y)</code>.  Axes can be added with
		the <code>axes</code> command and plots can be added with <code>plot</code>.
		See the <a href='#examples'>Examples</a> tab for examples on how to use these
		commands.
		</p>
		<p>
		When you've modified the code for a graph, click <emph>Update Graph</emph>
		to update the preview of your graph, and when you are satisfied with your
		graph, click <emph>Save Graph</emph> to save an SVG copy to you computer.
		Depending on your browser settings, you may be prompted to give a 
		filename for the graph or it may be automatically assigned a name and
		saved to your downloads folder.  <emph>You may have to change the filename
		to end in <code>.svg</code> if it does not end in <code>.svg</code>
		already.</emph>
		This SVG copy can then be converted into a pdf or image file using a 
		tool like <a href='http://inkscape.org/'>Inkscape</a> for inclusion into
		a LaTeX document, or it can be directly embedded into a web page as an SVG.
		</p>
		<p>
		If you later decided you want to edit an svg created with
		graphit that you have saved to your computer,
		you can click <emph>Load Graph</emph> in the <a href='#graph'>Graph</a> tab
		or drag and drop the file into your web browser.
		</p>
		<h2>Technical Notes</h2>
		<p>
		The code used to make a graph with graphit is actually real (slightly-preparsed)
		javascript code.  That means any javascript constructs (for example,
		multiple commands on a single line with <code>;</code>) are usable with
		graphit.  All graphing parameters (like <code>fontsize</code>, etc.)
		are javascript variables and graphing commands are javascript functions
		(e.g. <code>initPicture(-4.3,4.3,-3.3,3.3)</code>) which use any pertinent
		global variables to issue the appropriate SVG drawing operation.
		</p>
		<p>
		Using global variables like this gives the appearance of a stack-based
		graphing language.  Since commands reference global variables, one must
		take care not to use the <code>var</code> keyword to define a graphing
		parameter, since it would then be a local variable and have no affect
		on graphing commands.
		</p>
		</div>
	</div>

	<!-- invisible iframe so that we can trigger downloads by setting the url
	of the iframe without changing the url of the main window -->
	<iframe id='downloads_iframe' name='downloads_iframe' src='' style="display:none; visibility:hidden;"></iframe>
	<div id='save-dialog'>
		<h3>Select the file format to save in</h3>
		<select id='file-format'>
			<option value='svg'>SVG</option>
			<option value='png'>PNG</option>
			<option value='pdf' selected='true'>PDF</option>
		</select>
	</div>
</body>
</html>
